function log_object(t){var e="";for(var i in t)e+=i+": "+t[i]+"; ";console.log("object="+e)}function button_nostacking(){console.log("click button_nostacking");var t=$("#zaehler_chart").highcharts();delete t.yAxis[0].usePercentage,$(t.series).each(function(e,i){this.visible&&0>$.inArray(i.name,visibleSeriesIndex)&&(console.log("button_stacking(): serie.name="+i.name+"serie.index="+i.index),t.series[i.index].update({stacking:0},!0))})}function button_percent(){console.log("click button_percent");var t=$("#zaehler_chart").highcharts();delete t.yAxis[0].usePercentage,$(t.series).each(function(t,e){this.visible&&0>$.inArray(e.name,visibleSeriesIndex)&&this.update({stacking:"percent"},!1)}),t.redraw()}function button_addSerie(){var t=$("#zaehler_chart").highcharts();$(t.series).each(function(e,i){if(this.visible&&"column"!=this.type&&0>$.inArray(i.name,visibleSeriesIndex)){visibleSeriesIndex.push(i.name),console.log("berechne: "+i.name);var n=new Array,r=this.data[0].y,o=0;$(this.data).each(function(t,e){o=Math.round(10*(e.y-r))/10,r=e.y,n.push([e.x,o])}),t.addSeries({name:"Verbrauch "+i.name,data:n,yAxis:1,type:"column",stack:1,stacking:"normal"})}})}var visibleSeriesIndex=new Array;$(document).ready(function(){var t={chart:{zoomType:"xy",renderTo:"zaehler_chart"},title:{text:"Zählerwerte"},xAxis:{type:"datetime"},yAxis:[{title:{text:"Zählerstand in Kilowattstunden [KWh]"}},{title:{text:"Verbrauch pro Monat in Kilowattstunden [KWh]"},opposite:!0}],tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y} kWh</b> ({point.percentage:.0f}%)<br/>'},series:[]};$.getJSON("zaehlers/normiertewerte",function(e){t.series=e;var i=new Highcharts.Chart(t);i.series[0],$(i.series).each(function(){this.setVisible(!1,!1)})})});